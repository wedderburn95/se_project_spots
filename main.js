!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_disabled",inputErrorClass:"modal__input_type_error"};function t(e,t,o){t.validity.valid?((e,t,o)=>{e.querySelector(`#${t.id}-error`).textContent="",console.log(o),t.classList.remove(o.inputErrorClass)})(e,t,o):((e,t,o,n)=>{console.log(o),e.querySelector(`#${t.id}-error`).textContent=o,t.classList.add(n.inputErrorClass)})(e,t,t.validationMessage,o)}const o=(e,t,o)=>{(e=>e.some((e=>(console.log(e),!e.validity.valid))))(e)?n(t,o):(t.disabled=!1,t.classList.remove(o.inactiveButtonClass))},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},r=e=>{Array.from(document.querySelectorAll(e.formSelector)).forEach((n=>{((e,n)=>{const r=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);o(r,a,n),r.forEach((s=>{s.addEventListener("input",(function(){t(e,s,n),o(r,a,n)}))}))})(n,e)}))};r(e);const a=document.querySelector(".profile__edit-button"),s=document.querySelector("#modal-edit-profile"),c=s.querySelector(".modal__close-btn"),l=s.querySelector(".modal__form"),i=document.querySelector(".profile__name"),d=document.querySelector(".profile__description"),u=s.querySelector("#profile-name-input"),m=s.querySelector("#profile-description-input"),p=document.querySelector("#add-card-modal"),_=p.querySelector(".modal__form"),f=p.querySelector(".modal__submit-btn"),y=p.querySelector(".modal__close-btn"),v=document.querySelector(".profile__add-button"),S=p.querySelector("#add-card-link-input"),g=p.querySelector("#add-card-name-input"),q=document.querySelector("#preview-modal"),b=q.querySelector(".modal__image"),w=q.querySelector(".modal__caption"),h=q.querySelector(".modal__close-btn"),k=document.querySelector("#card-template"),L=document.querySelector(".cards__list");function E(e){const t=k.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image"),r=t.querySelector(".card__like-button"),a=t.querySelector(".card__delete-button");return o.textContent=e.name,n.src=e.link,n.alt=e.name,r.addEventListener("click",(()=>{r.classList.toggle("card__like-button_liked")})),a.addEventListener("click",B),n.addEventListener("click",(()=>{x(q),b.src=e.link,b.alt=e.name,w.textContent=e.name})),t}function x(e){e.classList.add("modal_opened"),document.addEventListener("keydown",z),e.addEventListener("mousedown",j)}function C(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",z),e.removeEventListener("mousedown",j)}function z(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&C(e)}}function j(e){e.target.classList.contains("modal_opened")&&C(e.target)}function B(e){e.target.closest(".card").remove()}h.addEventListener("click",(()=>{C(q)})),a.addEventListener("click",(()=>{u.value=i.textContent,m.value=d.textContent,resetValidation(l,[u,m],settings),x(s)})),c.addEventListener("click",(()=>{C(s)})),v.addEventListener("click",(()=>{x(p)})),y.addEventListener("click",(()=>{C(p)})),l.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=u.value,d.textContent=m.value,C(s)})),_.addEventListener("submit",(function(e){e.preventDefault();const t=E({name:g.value,link:S.value});L.prepend(t),_.reset(),disableBtn(f,settings),C(p)})),[{name:"Golden Gate Bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach((e=>{const t=E(e);L.append(t)})),r(e)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVrQyxPQUFPL0IsRUFBWSxJQUcvQi9CLEVBQWlCaEMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idG5fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAvLyBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG4vL1RoZSBzaG93SW5wdXRFcnJvciB3aWxsIGRpc3BsYXkgYW55IGVycm9ycyB1bmRlciB0aGUgaW5wdXQgYmVjYXVzZSB0aGUgc3BhbiBJRCdzIGFsbCBoYXZlIHRoZSBuYW1lIG9mIHRoZSBpbnB1dCBwbHVzIFwiLWVycm9yXCJcclxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBlcnJvck1zZywgY29uZmlnKSA9PiB7XHJcbiAgY29uc29sZS5sb2coZXJyb3JNc2cpO1xyXG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIC8vY29uZmlnLmlucHV0RXJyb3JDbGFzc1xyXG4gIC8vIGVycm9yTXNnRWwuY2xhc3NMaXN0LmFkZChcIlwiKTtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gIGVycm9yTXNnRWwudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIGNvbnNvbGUubG9nKGNvbmZpZyk7XHJcbiAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIC8vY29uZmlnLmlucHV0RXJyb3JDbGFzc1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSB7XHJcbiAgLy8gY29uc29sZS5sb2coaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhpbnB1dCk7XHJcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcclxuICAvLyBjb25zb2xlLmxvZyhoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSk7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlQnRuKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICAvLyBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJidXR0b25fZGlzYWJsZWRcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIC8vcmVtb3ZlIHRoZSBkaXNhYmxlZCBjbGFzc1xyXG5cclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAvLyBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGRpc2FibGVCdG4gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgLy8gY29uc29sZS5sb2coXCJpcyB0aGlzIGZpcmluZ1wiKTtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAvL0FkZCBhIG1vZGlmaWVyIGNsYXNzIHRvIHRoZSBidXR0bkVsIHRvIG1ha2UgaXQgZ3JleVxyXG4gIC8vRG9uJ3QgZm9yZ2V0IHRoZSBDU1NcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG59O1xyXG5cclxuY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcclxuICAvLyBjb25zb2xlLmxvZyhcInJlc2V0VmFsaWRhdGlvbiBjb25maWc6XCIsIGNvbmZpZyk7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy9UT0RPIC0gdXNlIHRoZSBzZXR0aW5ncyBvYmplY3QgaW4gYWxsIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIGhhcmQtY29kZWQgc3RyaW5nc1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIC8vIFRPRE8gLSBoYW5kbGUgaW5pdGlhbCBzdGF0ZXNcclxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XHJcblxyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcclxuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vL1RoZSBlbmFibGVWYWxpZGF0aW9uIGNvZGUgIGJsb2NrIGdyYWJzIGFsbCBvZiB0aGUgZm9ybXMgaW4gSFRNTFxyXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsKSA9PiB7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWwsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xyXG4iLCJpbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuXHJcbi8vVE9ETyAtIHBhc3Mgc2V0dGluZ3Mgb2JqZWN0IHRvIHRoZSB2YWxpZGF0aW9uIGZ1bmN0aW9udGhhdCBhcmUgY2FsbGVkIGluIHRoaXMgZmlsZVxyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiR29sZGVuIEdhdGUgQnJpZGdlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNy1waG90by1ieS1ncmlmZmluLXdvb2xkcmlkZ2UtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbCBUaG9yZW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMS1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlJlc3RhdXJhbnQgdGVycmFjZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQW4gb3V0ZG9vciBjYWZlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMy1waG90by1ieS10dWJhbnVyLWRvZ2FuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJBIHZlcnkgbG9uZyBicmlkZ2UsIG92ZXIgdGhlIGZvcmVzdCBhbmQgdGhyb3VnaCB0aGUgdHJlZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy80LXBob3RvLWJ5LW1hdXJpY2UtbGFzY2hldC1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVHVubmVsIHdpdGggbW9ybmluZyBsaWdodFwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzUtcGhvdG8tYnktdmFuLWFuaC1uZ3V5ZW4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWVkaXQtcHJvZmlsZVwiKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWxDbG9zZUJ1dHRvbiA9XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XHJcblxyXG4vL2ZpbmQgdGhlIGZvcm0gZWxlbWVudFxyXG5jb25zdCBlZGl0Rm9ybUVsZW1lbnQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbi8vIGZpbmQgdGhlIG5hbWUgZWxlbWVudFxyXG5jb25zdCBuYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuLy8gZmluZCB0aGUgdGl0bGUgZWxlbWVudFxyXG5jb25zdCBkZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG4vL2ZpbmQgdGhlIGZvcm0gaW5vcHV0XHJcblxyXG4vLyBmaW5kIHRoZSBuYW1lIGlucHV0IGVsZW1lbnRcclxuY29uc3QgbmFtZUlucHV0RWxlbWVudCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIik7XHJcblxyXG4vLyBmaW5kIHRoZSB0aXRsZSBpbnB1dCBlbGVtZW50XHJcbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXRFbGVtZW50ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5cclxuLy9FZGl0IGJ1dHRvblxyXG5jb25zdCBjYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xyXG4vLyBTZXR1cCBhbm90aGVyIGZvcm0gZWxlbWVudFxyXG5jb25zdCBjYXJkRm9ybSA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBjYXJkU3VibWl0QnRuID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcbmNvbnN0IGNhcmRNb2RhbENsb3NlQnRuID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgcHJvZmlsZUFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZExpbmtJbnB1dCA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWxpbmstaW5wdXRcIik7XHJcbmNvbnN0IGNhcmROYW1lSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1uYW1lLWlucHV0XCIpO1xyXG5cclxuLy9TZWxlY3QgdGhlIG1vZGFsXHJcbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcclxuY29uc3QgcHJldmlld01vZGFsSW1hZ2VFbCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuY29uc3QgcHJldmlld01vZGFsQ2FwdGlvbiA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG5jb25zdCBwcmV2aWV3Q2xvc2VCdG4gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xyXG5cclxuLy9UbyBzZXQgdGhlIHRlbXBsYXRlIGVsZW1lbnRcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpO1xyXG4vLyBjb25zb2xlLmxvZyhjYXJkVGVtcGxhdGUpXHJcblxyXG4vL0NyZWF0ZSBhIGZ1bmN0aW9uIHRvIGNhbGwgdGhlIGNhcmQgbGlzdFxyXG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuLy9GdW5jdGlvbnNcclxuZnVuY3Rpb24gZ2V0Q2FyZGVsZW1lbnQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgY29uc3QgY2FyZE5hbWVFTCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblxyXG4gIC8vU2VsZWN0IHRoZSBpbWFnZSBjbGFzcyBhbmQgaXQncyBlbGVtZW50c1xyXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblxyXG4gIC8vc2VsZWN0IHRoZSBjYXJkIGxpa2UgYnV0dG9uIGVsZW1lbnRcclxuICBjb25zdCBjYXJkTGlrZWRCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gIGNvbnN0IGRlbGV0ZUNhcmRCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcblxyXG4gIC8vYXNzaWduICB2YWx1ZSB0byB0aGUgbmFtZVxyXG4gIGNhcmROYW1lRUwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcblxyXG4gIC8vYXNzaWduICB2YWx1ZXMgdG8gdGhlIGltYWdlIHNyYyBhbmQgYWx0XHJcbiAgY2FyZEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG5cclxuICAvL2FkZCB0aGUgZXZlbnQgbGlzdGVuZXJcclxuICBjYXJkTGlrZWRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNhcmRMaWtlZEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIik7XHJcbiAgfSk7XHJcbiAgZGVsZXRlQ2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRGVsZXRlQ2FyZCk7XHJcblxyXG4gIC8vYWRkIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgY2FyZCBpbWFnZVxyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgb3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbiAgICBwcmV2aWV3TW9kYWxJbWFnZUVsLnNyYyA9IGRhdGEubGluaztcclxuICAgIHByZXZpZXdNb2RhbEltYWdlRWwuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgcHJldmlld01vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICB9KTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbnByZXZpZXdDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNsb3NlTW9kYWwocHJldmlld01vZGFsKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byBjbG9zZSBtb2RhbCBvbiBFc2NhcGUga2V5XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VPbkVzY2FwZSk7XHJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBjbG9zZU9uT3ZlcmxheSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lciB3aGVuIG1vZGFsIGlzIGNsb3NlZFxyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlT25Fc2NhcGUpO1xyXG4gIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2xvc2VPbk92ZXJsYXkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU9uRXNjYXBlKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCBvcGVuTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGlmIChvcGVuTW9kYWwpIHtcclxuICAgICAgY2xvc2VNb2RhbChvcGVuTW9kYWwpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VPbk92ZXJsYXkoZXZ0KSB7XHJcbiAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XHJcbiAgICBjbG9zZU1vZGFsKGV2dC50YXJnZXQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZFN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7XHJcbiAgICBuYW1lOiBjYXJkTmFtZUlucHV0LnZhbHVlLFxyXG4gICAgbGluazogY2FyZExpbmtJbnB1dC52YWx1ZSxcclxuICB9O1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZGVsZW1lbnQoaW5wdXRWYWx1ZXMpO1xyXG4gIGNhcmRzTGlzdC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuXHJcbiAgY2FyZEZvcm0ucmVzZXQoKTtcclxuICBkaXNhYmxlQnRuKGNhcmRTdWJtaXRCdG4sIHNldHRpbmdzKTtcclxuICBjbG9zZU1vZGFsKGNhcmRNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBuYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWVJbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb25JbnB1dEVsZW1lbnQudmFsdWU7XHJcblxyXG4gIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn1cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChldnQpIHtcclxuICBldnQudGFyZ2V0LmNsb3Nlc3QoXCIuY2FyZFwiKS5yZW1vdmUoKTtcclxufVxyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBuYW1lSW5wdXRFbGVtZW50LnZhbHVlID0gbmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgZGVzY3JpcHRpb25JbnB1dEVsZW1lbnQudmFsdWUgPSBkZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgcmVzZXRWYWxpZGF0aW9uKFxyXG4gICAgZWRpdEZvcm1FbGVtZW50LFxyXG4gICAgW25hbWVJbnB1dEVsZW1lbnQsIGRlc2NyaXB0aW9uSW5wdXRFbGVtZW50XSxcclxuICAgIHNldHRpbmdzXHJcbiAgKTtcclxuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbn0pO1xyXG5cclxuZWRpdFByb2ZpbGVNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxufSk7XHJcblxyXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuY2FyZE1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjbG9zZU1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuZWRpdEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpO1xyXG5jYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUNhcmRTdWJtaXQpO1xyXG5cclxuaW5pdGlhbENhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRlbGVtZW50KGl0ZW0pO1xyXG4gIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xyXG59KTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XHJcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImNoZWNrSW5wdXRWYWxpZGl0eSIsImZvcm1FbCIsImlucHV0RWwiLCJjb25maWciLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGlkZUlucHV0RXJyb3IiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNvbnNvbGUiLCJsb2ciLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwiaW5wdXQiLCJoYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnRuIiwiZGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwiQXJyYXkiLCJmcm9tIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInNldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb2ZpbGVFZGl0QnV0dG9uIiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRQcm9maWxlTW9kYWxDbG9zZUJ1dHRvbiIsImVkaXRGb3JtRWxlbWVudCIsIm5hbWVFbGVtZW50IiwiZGVzY3JpcHRpb25FbGVtZW50IiwibmFtZUlucHV0RWxlbWVudCIsImRlc2NyaXB0aW9uSW5wdXRFbGVtZW50IiwiY2FyZE1vZGFsIiwiY2FyZEZvcm0iLCJjYXJkU3VibWl0QnRuIiwiY2FyZE1vZGFsQ2xvc2VCdG4iLCJwcm9maWxlQWRkQnV0dG9uIiwiY2FyZExpbmtJbnB1dCIsImNhcmROYW1lSW5wdXQiLCJwcmV2aWV3TW9kYWwiLCJwcmV2aWV3TW9kYWxJbWFnZUVsIiwicHJldmlld01vZGFsQ2FwdGlvbiIsInByZXZpZXdDbG9zZUJ0biIsImNhcmRUZW1wbGF0ZSIsImNhcmRzTGlzdCIsImdldENhcmRlbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmROYW1lRUwiLCJjYXJkSW1hZ2UiLCJjYXJkTGlrZWRCdG4iLCJkZWxldGVDYXJkQnRuIiwibmFtZSIsInNyYyIsImxpbmsiLCJhbHQiLCJ0b2dnbGUiLCJoYW5kbGVEZWxldGVDYXJkIiwib3Blbk1vZGFsIiwibW9kYWwiLCJjbG9zZU9uRXNjYXBlIiwiY2xvc2VPbk92ZXJsYXkiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2VzdCIsInZhbHVlIiwicmVzZXRWYWxpZGF0aW9uIiwic2V0dGluZ3MiLCJwcmV2ZW50RGVmYXVsdCIsInByZXBlbmQiLCJyZXNldCIsIml0ZW0iLCJhcHBlbmQiXSwic291cmNlUm9vdCI6IiJ9